# 📖 USS44 사용자 매뉴얼

**USS44 Social Sampler**에 오신 것을 환영합니다! 이 매뉴얼은 브라우저 기반의 강력한 프로덕션 도구인 USS44의 기능과 사용법을 안내합니다.

---

## 🕹️ 인터페이스 레이아웃

### 1. 헤더 (LCD & 상태창)
- **로고 (USS44)**: 클릭/탭하여 **UltraSample 모드**를 켜고 끌 수 있습니다.
- **LCD 디스플레이**: 현재 BPM, 선택된 채널(CHANNEL), 활성화된 패드(PAD) 번호를 표시합니다.
- **비주얼라이저**: 마스터 출력의 스펙트럼을 실시간으로 분석하여 보여줍니다.
- **메뉴 (햄버거 아이콘)**: 모듈형 프로젝트 관리(저장, 불러오기, 내보내기, 가져오기) 및 전역 설정에 접근합니다.

### 2. 모드 선택기 (상단 바)
- **Dig Library**: 내장 샘플 라이브러리에 접근하고 **샘플 팩(Sample Packs)**을 관리합니다.
  - **라이브러리 아이콘**: 검색창 옆의 라이브러리 아이콘을 클릭하여 샘플 팩 매니저를 열고 다양한 JSON 소스를 추가하거나 전환할 수 있습니다.
- **Perform / Edit**: 패드 상호작용 모드를 전환합니다.
  - **Perform**: 패드를 터치하면 사운드가 재생됩니다.
  - **Edit**: 패드를 터치하면 사운드를 재생하지 않고 파라미터 조절을 위해 해당 패드를 선택만 합니다.
- **Step (시퀀서)**: 16스텝 패턴 시퀀서 모드로 진입하거나 나갑니다.
- **Play/Stop**: 전역 시퀀서 클럭을 시작하거나 정지합니다.
  - **리셋**: 정지 시 시퀀서 위치와 모든 웨이브폼 재생 바가 처음 위치로 초기화됩니다.

---

## 🎙️ 샘플링 및 사운드

### UltraSample 모드 (빠른 녹음)
1. **USS44 로고**를 눌러 UltraSample 모드로 진입합니다 (마이크 아이콘이 깜빡입니다).
2. **아무 패드나 길게 눌러** 마이크로부터 직접 녹음을 시작합니다.
3. 패드에서 손을 떼면 녹음이 중단됩니다. 샘플은 자동으로 트림(Trim)되어 해당 패드에 할당됩니다.
4. 로고를 다시 눌러 모드를 종료하고 일반 연주 모드로 돌아옵니다.

### Digging & 샘플 팩 (라이브러리)
1. **Dig Library**를 눌러 사용 가능한 샘플 세트를 확인합니다.
2. **라이브러리 아이콘**: 검색창 옆의 아이콘을 클릭하여 **샘플 팩 매니저**를 엽니다.
   - **팩 추가**: 이름과 JSON URL을 입력하여 나만의 라이브러리를 추가할 수 있습니다.
   - **팩 전환**: **새로고침(Switch) 아이콘** 버튼을 눌러 활성 라이브러리를 즉시 교체합니다.
   - **즐겨찾기(Favorites)**: 팩 옆의 **별표 아이콘**을 클릭하여 즐겨찾기에 등록할 수 있습니다. 즐겨찾기된 팩은 항상 목록 상단에 고정됩니다. 검색창 옆의 별표 아이콘을 눌러 즐겨찾기된 팩만 모아볼 수 있습니다.
   - **내보내기/가져오기**: 등록된 팩 목록을 JSON 파일로 백업하거나 공유합니다.
3. 미니 재생 아이콘을 클릭하여 사운드를 미리 들어봅니다.
   - **BPM 감지**: 미리보기 중 샘플 이름 아래에 정밀한 **BPM 분석 결과**가 자동으로 표시됩니다.
4. 샘플 이름을 클릭하거나 **Load Pad** 버튼을 누르면 **현재 선택된 패드**에 해당 사운드가 로드됩니다.

---

## 🎛️ 파라미터 (PARAMS 패널)

패드가 선택되면 사운드를 실시간으로 조작할 수 있습니다. 모든 변경 사항은 **패드가 재생 중이거나 시퀀서가 돌아가는 중에도 즉각적으로 반영**됩니다.

- **Chop 탭 (파형)**:
  - **시작/끝 핸들**을 드래그하여 샘플을 슬라이스(Slice)합니다.
  - **줌(Zoom)** 버튼이나 스크롤을 사용하여 파형을 자세히 파악할 수 있습니다.
  - **BPM 루프 계산**: `LOOP` 모드일 때 선택된 시작점과 끝점 사이의 구간을 기반으로 BPM을 자동 계산하여 보여줍니다.
  - **BPM SYNC**: 계산된 BPM 수치를 클릭하면 프로젝트의 전체 템포(Global BPM)가 해당 루프에 맞춰 즉시 동기화됩니다.
  - **Snap (자석 아이콘)**: 마커를 움직일 때 자동으로 가장 가까운 **제로 크로싱(Zero-crossing)** 지점에 흡착시켜 루프 시 발생하는 클릭 노이즈를 제거합니다.
- **CTRL 탭 (노브)**:
  - **Pitch**: 재생 속도와 음정(-24 ~ +24 반음)을 조절합니다.
  - **Gain**: 패드의 볼륨 레벨을 조절합니다.
  - **Pan**: 사운드의 좌우 스테레오 위치를 조절합니다.
  - **CUT OFF / Res**: 12dB/oct 상태 변수 필터(State Variable Filter)를 제어합니다.
  - **💡 팁**: 모든 노브를 **더블 클릭**하거나 **더블 탭**하면 즉시 초기값으로 리셋됩니다!
- **Pad Options 메뉴**:
  - 헤더의 **PAD** 번호를 누르거나 특정 조합 키를 통해 패드 옵션 메뉴를 열 수 있습니다.
  - **Solo/Mute**: 해당 패드를 독주시키거나 음소거합니다.
  - **Clone Pad**: **복제 모드(Clone Mode)**에 진입합니다. 모드 활성 중에 다른 패드를 클릭하면 현재 패드의 모든 설정과 샘플 링크가 복사됩니다.
  - **Clear Pad**: 패드 설정을 초기화합니다.

---

## 🔊 트리거 및 재생 (Triggering)

### 단음 재생 (Choke Group)
- **GATE** 또는 **LOOP** 트리거 모드로 설정된 패드는 엄격하게 **단음(Monophonic)**으로 재생됩니다. 
- 패드를 다시 트리거하면 이전 소리를 즉시 "초크(Choke)"하여 5ms 동안 부드럽게 크로스페이드하고, 새로운 소리를 처음부터 깨끗하게 시작합니다. 이 동작은 하드웨어 드럼 머신의 **초크 그룹(Choke Group)**과 유사합니다.

---

## 🎼 시퀀싱 (Step 모드)

1. 시퀀싱하려는 패드를 선택합니다.
2. **Step** 버튼을 누릅니다. 그리드가 16스텝(1마디)을 나타내게 됩니다.
3. **Perform** 모드 상태에서 각 스텝을 켜거나(ON) 끌(OFF) 수 있습니다.
4. **Edit** 모드로 전환한 뒤 특정 스텝을 선택하면 다음 파라미터를 조절할 수 있습니다:
   - **Velocity**: 볼륨과 패드 밝기를 제어합니다 (0-127 정수 단위).
   - **Pitch**: 스텝별 반음 오프셋을 설정합니다 (-24 ~ +24).
   - **Length**: 각 스텝의 게이트/루프 재생 길이(0.1 ~ 16.0)를 제어합니다.
     * **팁**: Length를 최대값(**16.0**)으로 설정하면 게이팅 없이 루프를 무한히 재생할 수 있습니다.
5. **Play**를 눌러 루프되는 패턴을 확인합니다. 멀티 채널(A/B/C/D) 시퀀싱을 완벽히 지원합니다.

### 리얼타임 스텝 레코딩 (MPC 스타일)
연주를 실시간으로 시퀀서에 기록할 수 있습니다:
1. **녹음 모드 활성화**: **Play 버튼을 길게 누르면** 버튼이 빨간색으로 변하며 녹음 대기 상태가 됩니다.
2. **연주**: 시퀀서가 재생 중일 때 **Perform** 모드에서 패드를 치면, 해당 시점이 속한 스텝에 자동으로 기록됩니다.
3. **비주얼 메트로놈 (Beat Pulse)**: 녹음 모드 중에는 화면 좌우 가장자리에 분홍색 라인이 비트에 맞춰 깜빡입니다. 소리를 듣기 어려운 환경에서도 시각적으로 박자를 맞출 수 있도록 도와줍니다.
4. **해제**: Play 버튼을 다시 길게 누르거나 재생을 정지하면 녹음 모드가 종료됩니다.
   * *참고: 이 기능을 사용하면 일일이 스텝을 찍지 않고도 "연주"를 통해 빠르게 비트를 만들 수 있습니다.*

### 미니멀리스트 스텝 시각화
모바일 화면에서 가독성을 높이기 위해, 활성화된 스텝은 텍스트 대신 시각적 요소로 파라미터를 표시합니다:
- **Length 바 (하단)**: 각 스텝 하단에 엇은 초록색 바가 상대적 길이를 표시합니다.
- **Pitch 바 (오른쪽)**: 세로 선이 피치 오프셋을 나타냅니다.
  - **시안 (위로)**: 양수 피치 시프트.
  - **오렌지 (아래로)**: 음수 피치 시프트.
- 스텝 번호는 우측 상단에 희미하게 표시됩니다.

---

## 🎵 Song 모드 (멀티 패턴 시퀀싱)

USS44는 최대 **16개의 독립적인 패턴(A-P)**을 지원하며, 이를 조합하여 완성된 곡을 구성할 수 있습니다.

### 패턴 전환 (헤더 LCD)
- **PAT 탭**: 헤더 LCD의 **PAT** 영역을 탭하면 다음 패턴(A→B→...→P→A)으로 순환합니다.
- **PAT 롱 탭**: 길게 누르면 **패턴 선택 모달**이 열려 원하는 패턴(A-P)으로 바로 이동할 수 있습니다.
- **CH 롱 탭**: 헤더 LCD의 **CH** 영역을 길게 누르면 **채널 선택 모달**이 열립니다.

### Song 모드 진입
1. 헤더 상단의 **SONG** 버튼을 눌러 Song 모드로 전환합니다.
2. 화면이 **Song Editor**로 바뀌며, 상단에 **패턴 선택기(A-P)**, 하단에 **Song Sequence 그리드**가 표시됩니다.

### Song 편집
- **패턴 추가**: 상단 패턴 선택기(A-P)에서 원하는 패턴을 탭하면, **현재 선택된 타일 다음 위치**에 삽입됩니다.
- **타일 선택**: 그리드의 타일을 탭하면 해당 타일이 선택됩니다. 선택된 타일은 흰색 테두리로 표시됩니다.
- **타일 삭제**: 타일을 **더블 탭**하면 즉시 삭제됩니다.
- **타일 순서 변경 (드래그)**:
  1. 타일 우측 상단의 **드래그 핸들(⋮⋮)**을 터치/클릭합니다.
  2. 원하는 위치로 드래그합니다. 드롭 위치는 **분홍색 세로선**으로 표시됩니다.
     - 왼쪽에 선이 표시되면 해당 타일의 **앞**으로 이동합니다.
     - 오른쪽에 선이 표시되면 해당 타일의 **뒤**로 이동합니다.
  3. 손을 떼면 순서가 변경됩니다.

### Song 재생
- **선택 위치에서 시작**: Song Sequence에서 타일을 선택한 후 **Play**를 누르면, 해당 패턴부터 재생이 시작됩니다.
- **자동 진행**: 현재 패턴의 마지막 스텝이 지나면 자동으로 다음 패턴으로 넘어갑니다.
- **실시간 하이라이트**: 재생 중인 패턴 타일에는 상단에 분홍색 바가 표시됩니다.

### Song 저장
- **Project Song 내보내기**: 설정 메뉴에서 Project Song을 내보내면 **모든 16개 패턴과 Song 구성**이 함께 저장됩니다.

## ⌨️ 키보드 단축키

| 키 | 동작 |
|-----|--------|
| **1 ~ 4** | 패드 1 - 4 재생 |
| **Q, W, E, R** | 패드 5 - 8 재생 |
| **A, S, D, F** | 패드 9 - 12 재생 |
| **Z, X, C, V** | 패드 13 - 16 재생 |
| **Space** | 재생 / 정지 토글 |
| **Shift + 클릭** | (로직에 따라) 트리거 없이 선택만 수행 |

---

### 1. 세밀한 내보내기 및 가져오기 (Modular Export/Import)
작업의 복잡도에 따라 세 가지 수준으로 데이터를 내보낼 수 있습니다:
- **Sequence**: 16스텝 패턴 정보만 포함된 가벼운 파일입니다. 리듬 정보를 공유할 때 적합합니다.
- **Sound Kit**: 16개 패드 설정과 **연결된 모든 오디오 샘플 데이터**를 포함합니다. 특정 사운드 구성을 공유할 때 사용합니다.
- **Project Song**: 전체 스냅샷입니다. 소리, 샘플, 패턴, BPM을 모두 포함한 **완성된 작업물** 단위입니다.

### 2. 파일 관리 동작
- **Save to Library**: 현재 항목(Song, Kit, Sequence)을 브라우저 로컬 데이터베이스에 저장합니다.
- **Export to JSON**: 현재 활성화된 상태를 즉시 파일로 추출합니다. 라이브러리에 저장하지 않고도 바로 공유할 수 있습니다.
- **Import from JSON**: 모든 USS44 `.json` 파일을 드래그하거나 선택하여 불러옵니다. 시스템이 파일의 종류(Song, Kit, Sequence)를 자동으로 인식하여 적절하게 로드합니다.

---

## 🛠️ 전역 도구 (Global Tools)
- **BPM 제어**: LCD 화면에서 표시됩니다. 수치를 클릭하거나 드래그하여 조절 가능합니다.
  - **HALF (🐌)** / **DOUBLE (🐰)**: 현재 BPM을 즉시 절반으로 줄이거나 두 배로 늘립니다.
  - **정밀 TAP**: 탭 버튼을 눌러 템포를 설정합니다. 고정밀 타이밍과 시각적 피드백을 제공합니다.
- **Init All (Factory Reset)**: 설정 메뉴 하단에 위치합니다. 모든 현재 작업 데이터를 지우고 **공장 초기화 사운드 킷(Factory Default Kit)**을 다시 불러와 깨끗한 상태에서 시작하게 해줍니다.
- **개별 삭제 도구 (Individual Clear)**: 설정 메뉴 내 각 섹션(Sequence, Sound Kit, Project Song)의 내보내기/가져오기 아이콘 옆에 **쓰레기통(Clear) 버튼**이 추가되었습니다:
  - **Sequence Clear**: 현재 BPM과 Step Length(16/64) 설정은 **유지**한 채, 기록된 모든 패턴 정보만 깨끗이 지웁니다.
  - **Sound Kit Clear**: 로드된 샘플과 패드 파라미터 설정을 초기화합니다.
  - **Project Song Clear**: 사운드와 시퀀스 정보를 모두 지워 완전히 빈 프로젝트 상태로 만듭니다.
- **Render Audio (오디오 믹스다운)**: 설정 메뉴에 위치합니다. 현재 작성된 패턴(전체 채널/패드)을 고음질 WAV 파일로 즉시 렌더링합니다.
  - **미리보기**: 렌더링된 결과물의 파형을 확인하고 들어볼 수 있습니다.
  - **파일 저장**: 결과물을 `.wav` 파일로 다운로드합니다.
  - **패드에 로드**: 렌더링된 소리를 현재 선택된 패드에 즉시 할당하여 리샘플링(Resampling) 작업에 활용할 수 있습니다.
- **정지 리셋 (Stop Reset)**: 시퀀서 정지 시 모든 패드의 웨이브폼 재생 위치가 처음 시작 지점으로 초기화됩니다.

---

## 🌐 시스템 요구사항
- **브라우저**: Chrome, Edge 또는 Safari (Web Audio API 및 AudioWorklet 지원 필수).
- **오디오 엔진**: 44.1kHz 고충실도 내부 샘플링 및 지터 없는 오디오 워클릿 녹음 지원.
- **환경**: 마이크 접근을 위해 반드시 `localhost` 또는 `HTTPS` 환경에서 실행되어야 합니다.
